import{_ as l,A as u,T as d,P as h}from"../app.2d7615bf.js";import"./vue.c7926159.js";import{a as g,ad as o,aM as i,o as _}from"./@vue.21d3b485.js";import"./vue-codemirror.f710c5d3.js";import"./codemirror.65c2c8aa.js";import"./@codemirror.86619810.js";import"./@lezer.13b71bd8.js";import"./crelt.2ca95e67.js";import"./style-mod.dd020e09.js";import"./w3c-keyname.f0bedd1c.js";import"./vuedraggable.6704fbca.js";import"./axios.49d3df40.js";import"./sortablejs.8b43ee28.js";import"./lodash.009183e4.js";import"./@kyvg.9e3dee5d.js";import"./vue-router.5d347134.js";import"./vuex.7e60e04e.js";const f={name:"TvSortPage",components:{ActionsButtons:u,TitleComponent:d,Panel:h},props:{currentRoute:Object},data(){return{data:null}},created(){this.$emit("action","setTab",{key:this._.vnode.key,changed:!1,loading:!0}),this.get()},methods:{action(){typeof this[arguments[0]]=="function"?this[arguments[0]](...Array.from(arguments).splice(1)):this.$emit("action",...arguments)},get(){this.data?.columns&&(this.data.data=null),this.data?.pagination&&(this.data.pagination=null),axios.get("api/tv/sort",{params:this.currentRoute.query||null}).then(t=>{this.data=t.data.data,this.$emit("action","setTab",{key:this._.vnode.key,changed:!1,loading:!1})})},pagination(t){this.$emit("action","pushRouter","?"+t,()=>this.get(this.element))},sortable(t,e){e.data.map((a,s)=>a.rank=s+1+this.data.pagination.per*this.data.pagination.current-this.data.pagination.per),this.$emit("action","setTab",{key:this._.vnode.key,changed:!0})},updateModelValue(t,e){this.$emit("action","setTab",{key:this._.vnode.key,changed:!0})},save(){},cancel(){this.$emit("action","toTab",{name:"Elements",params:{element:"tvs"}},!0)}}};function v(t,e,a,s,r,n){const c=i("actions-buttons"),m=i("title-component"),p=i("panel");return _(),g("div",null,[o(c,{data:["save","cancel"],onAction:n.action},null,8,["onAction"]),o(m),o(p,{data:r.data,class:"py-4",onAction:n.action,"current-route":a.currentRoute,"onUpdate:modelValue":n.updateModelValue},null,8,["data","onAction","current-route","onUpdate:modelValue"])])}const q=l(f,[["render",v]]);export{q as default};
