import{_ as h,C as g,d as v,A as b,T as f}from"../app.2d7615bf.js";import"./vue.c7926159.js";import{a as i,ad as s,f as r,g as l,c as k,aM as a,o}from"./@vue.21d3b485.js";import"./vue-codemirror.f710c5d3.js";import"./codemirror.65c2c8aa.js";import"./@codemirror.86619810.js";import"./@lezer.13b71bd8.js";import"./crelt.2ca95e67.js";import"./style-mod.dd020e09.js";import"./w3c-keyname.f0bedd1c.js";import"./vuedraggable.6704fbca.js";import"./axios.49d3df40.js";import"./sortablejs.8b43ee28.js";import"./lodash.009183e4.js";import"./@kyvg.9e3dee5d.js";import"./vue-router.5d347134.js";import"./vuex.7e60e04e.js";const y={name:"FilePage",components:{CodeEditor:g,TvInput:v,ActionsButtons:b,TitleComponent:f},props:{currentRoute:Object},data(){return{data:null}},computed:{title(){return this.data?.basename||"..."},lang(){let t="";switch(this.data?.ext){case"css":case"less":case"cass":t="css";break;case"vue":t="vue";break;case"js":case"json":t="javascript";break;case"xml":case"svg":t="xml";break;case"php":t="php";break;case"htm":case"html":t="html";break;case"md":t="markdown";break;case"sql":t="sql";break}if(!t)switch(this.data?.type){case"application/json":t="javascript";break}return this.data?.lang&&(t=this.data.lang),t}},watch:{"currentRoute.params.id"(t,c){this.currentRoute.name!=="File"||this.currentRoute.name==="File"&&(t===c||t===this.data?.path)||this.get()}},created(){this.get()},methods:{action(){},get(){this.$emit("action","setTab",{key:this._.vnode.key,meta:{title:"..."},changed:!1,loading:!0}),this.data=null,axios.get("api/file/"+this.currentRoute.params.id,{params:this.currentRoute.query||{}}).then(t=>{this.data=t.data.data,this.$emit("action","setTab",{key:this._.vnode.key,meta:{title:this.title},changed:!1,loading:!1})})}}},x={key:0,class:"flex flex-col"},C={class:"px-6 py-4 bg-white dark:bg-cms-700"},j={key:0,class:"image mb-4"},T=["src"],R={key:1,class:"flex items-center justify-center"};function w(t,c,B,E,e,n){const m=a("actions-buttons"),d=a("title-component"),p=a("TvInput"),u=a("CodeEditor"),_=a("loader");return e.data?(o(),i("div",x,[s(m,{data:["save","delete","copy"],onAction:n.action},null,8,["onAction"]),s(d,{title:n.title,id:null},null,8,["title"]),r("div",C,[s(p,{label:"Name",value:e.data?.basename},null,8,["value"]),/image\//.test(e.data.type)?(o(),i("div",j,[r("img",{src:"../"+e.data.path,alt:""},null,8,T)])):l("",!0),e.data?.content?(o(),k(u,{key:1,label:"Editor","model-value":e.data.content,config:[{component:"Codemirror",lang:n.lang}]},null,8,["model-value","config"])):l("",!0)])])):(o(),i("div",R,[s(_)]))}const S=h(y,[["render",w],["__scopeId","data-v-98c3525a"]]);export{S as default};
