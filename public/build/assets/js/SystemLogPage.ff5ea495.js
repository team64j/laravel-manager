import{_ as d,A as h,T as _,P as g}from"../app.24cdfa04.js";import"./vue.c7926159.js";import{a as r,ad as n,c as f,aM as a,o as s}from"./@vue.21d3b485.js";import"./vue-codemirror.f710c5d3.js";import"./codemirror.65c2c8aa.js";import"./@codemirror.86619810.js";import"./@lezer.13b71bd8.js";import"./crelt.2ca95e67.js";import"./style-mod.dd020e09.js";import"./w3c-keyname.f0bedd1c.js";import"./vuedraggable.6704fbca.js";import"./axios.49d3df40.js";import"./sortablejs.8b43ee28.js";import"./lodash.009183e4.js";import"./@kyvg.9e3dee5d.js";import"./vue-router.5d347134.js";import"./vuex.7e60e04e.js";const y={name:"SystemLogPage",components:{ActionsButtons:h,TitleComponent:_,Panel:g},props:{currentRoute:Object},data(){return{data:null,meta:null}},created(){this.$emit("action","setTab",{key:this._.vnode.key,loading:!0}),this.get()},methods:{action(){typeof this[arguments[0]]=="function"?this[arguments[0]](...Array.from(arguments).splice(1)):this.$emit("action",...arguments)},get(){this.data?.columns&&(this.data.data=null),this.data?.pagination&&(this.data.pagination=null),this.meta=null,axios.get("api/systemlog",{params:this.currentRoute.query||null}).then(t=>{this.data=t.data.data,this.meta=t.data.meta,this.$emit("action","setTab",{key:this._.vnode.key,loading:!1})})},filters(t,o){const e=Object.assign({},this.currentRoute.query||{});t!==""?e[o]=t:delete e[o],delete e.page,this.$emit("action","pushRouter",{query:e},()=>this.get(this.element))},pagination(t){this.$emit("action","pushRouter","?"+t,()=>this.get(this.element))},sort(t,o){const e=Object.assign({},this.currentRoute.query||{});e.order=t,e.dir=o,this.$emit("action","pushRouter",{query:e},()=>this.get(this.element))}}},k={class:"flex flex-col"},R={key:1,class:"flex items-center justify-center grow"};function b(t,o,e,x,i,c){const m=a("actions-buttons"),l=a("title-component"),u=a("panel"),p=a("loader");return s(),r("div",k,[n(m,{data:["clear"]}),n(l),i.data?(s(),f(u,{key:0,data:i.data,onAction:c.action,"current-route":e.currentRoute,class:"py-4"},null,8,["data","onAction","current-route"])):(s(),r("div",R,[n(p)]))])}const z=d(y,[["render",b]]);export{z as default};
