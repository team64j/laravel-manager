import{_ as m,A as _,T as p}from"../app.ca983809.js";import"./vue.c7926159.js";import{a,ad as s,f as t,U as e,aM as i,o as r}from"./@vue.21d3b485.js";import"./vue-codemirror.f710c5d3.js";import"./codemirror.65c2c8aa.js";import"./@codemirror.86619810.js";import"./@lezer.13b71bd8.js";import"./crelt.2ca95e67.js";import"./style-mod.dd020e09.js";import"./w3c-keyname.f0bedd1c.js";import"./vuedraggable.6704fbca.js";import"./axios.49d3df40.js";import"./sortablejs.8b43ee28.js";import"./lodash.009183e4.js";import"./@kyvg.9e3dee5d.js";import"./vue-router.5d347134.js";import"./vuex.7e60e04e.js";const g={name:"EventLogPage",components:{ActionsButtons:_,TitleComponent:p},props:{currentRoute:Object},data(){return{data:null}},computed:{id(){return this.data?.id||this.currentRoute.params&&this.currentRoute?.params.id||null}},created(){this.$emit("action","setTab",{key:this._.vnode.key,loading:!0}),this.get()},methods:{action(){typeof this[arguments[0]]=="function"?this[arguments[0]](...Array.from(arguments).splice(1)):this.$emit("action",...arguments)},get(){axios.get("api/eventlog/"+this.id,{params:this.currentRoute.query||null}).then(o=>{this.data=o.data.data,this.meta=o.data.meta,this.$emit("action","setTab",{key:this._.vnode.key,loading:!1})})},cancel(){this.$emit("action","toTab",{name:"EventLogs"})},delete(){confirm(this.$root.lang("confirm_delete_eventlog"))}}},h={class:"flex flex-col"},v={key:0,class:"py-2 bg-white dark:bg-cms-700"},f={class:"data data-event-log"},y={colspan:"4"},b={class:"text-center"},k=["innerHTML"],L={key:1,class:"flex items-center justify-center grow"};function T(o,E,$,x,n,l){const c=i("actions-buttons"),d=i("title-component"),u=i("loader");return r(),a("div",h,[s(c,{data:["delete","cancel"],onAction:l.action},null,8,["onAction"]),s(d),n.data?(r(),a("div",v,[t("div",f,[t("table",null,[t("thead",null,[t("tr",null,[t("th",y,e(n.data.source)+" - "+e(o.$root.lang("eventlog_viewer")),1)]),t("tr",null,[t("th",null,e(o.$root.lang("event_id")),1),t("th",null,e(o.$root.lang("source")),1),t("th",null,e(o.$root.lang("date")),1),t("th",null,e(o.$root.lang("user")),1)])]),t("tbody",null,[t("tr",b,[t("td",null,e(n.data.eventid),1),t("td",null,e(n.data.source),1),t("td",null,e(n.data.createdon),1),t("td",null,e(n.data?.users?.username||"-"),1)])])])]),t("div",{innerHTML:n.data.description,class:"data data-event-log"},null,8,k)])):(r(),a("div",L,[s(u)]))])}const z=m(g,[["render",T],["__scopeId","data-v-19fe08cf"]]);export{z as default};
